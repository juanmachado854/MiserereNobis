<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Miserere Nobis</title>
  <!-- Google font for a cursive-but-fun header -->
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=VT323&display=swap" rel="stylesheet">
  <style>
    /* --- 90s GeoCities vibes --- */
    html,body{height:100%;}
    body{
      margin:0;
      font-family: 'VT323', monospace;
      background: url('https://i.imgur.com/8JqJ9dM.png'); /* subtle tiled background */
      background-repeat: repeat;
      color:#000;
      padding:12px;
    }

    .container{
      max-width:920px;
      margin:12px auto;
      background: rgba(255,255,255,0.9);
      border:3px solid #000;
      box-shadow: 6px 6px 0 rgba(0,0,0,0.3);
      padding:12px;
    }

    header{
      display:flex;
      align-items:center;
      gap:12px;
    }

    /* Pixelated cursive header */
    .site-title{
      font-family: 'Pacifico', cursive;
      font-size:48px;
      line-height:1;
      text-rendering: optimizeSpeed;
      -webkit-font-smoothing: none;
      filter: contrast(120%);
      text-shadow: 1px 1px 0 #ffffff, -1px -1px 0 #ffffff, 2px 2px 0 #ffeded;
      transform: translateZ(0);
      image-rendering: pixelated;
      margin:0;
    }

    .tagline{font-size:12px; margin-top:6px; color:#333}

    nav{
      margin-top:8px;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }

    .nav-link{
      display:inline-block;
      padding:6px 10px;
      background:linear-gradient(#ffb3b3,#ffdfd9);
      border:2px solid #000;
      text-decoration:none;
      color:#000;
      font-weight:bold;
    }

    /* 90s marquee / blink behavior */
    .blink{
      animation: blinker 1.2s step-start infinite;
      font-weight:bold;
      color:#b30000;
    }
    @keyframes blinker{50%{visibility:hidden;}}

    main{margin-top:12px;}

    /* page sections */
    .page{display:none;}
    .page.active{display:block;}

    .post{
      border:2px dashed #444;
      padding:10px;
      margin:12px 0;
      background: #fff9e6;
    }

    .meta{font-size:12px; color:#555}

    aside.sidebar{
      border:2px solid #000;
      padding:10px;
      margin-top:12px;
      background: linear-gradient(#e6f7ff,#ffffff);
    }

    /* old-school guestbook/links list style */
    .links-list a{display:block; padding:4px 0;}

    footer{
      margin-top:16px;
      font-size:12px;
      color:#222;
      border-top:1px solid #ccc;
      padding-top:8px;
    }

    /* small screen tweaks */
    @media (max-width:600px){
      .site-title{font-size:34px}
    }

    /* Retro pixel divider */
    .pixel-divider{height:8px; background: repeating-linear-gradient(90deg,#000 0 4px, #fff 4px 8px); margin:12px 0}

  </style>
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1 class="site-title">Miserere Nobis</h1>
        <div class="tagline">A personal corner for journals, book reviews, architecture & faith</div>
      </div>
      <div style="margin-left:auto; text-align:right; min-width:160px">
        <div class="blink">Welcome — sign the guestbook!</div>
        <div style="font-size:11px;">(90s aesthetic · GeoCities inspired)</div>
      </div>
    </header>

    <nav>
      <a href="#home" class="nav-link" data-target="home">Home</a>
      <a href="#links" class="nav-link" data-target="links">Links</a>
      <a href="#history" class="nav-link" data-target="history">History</a>
      <a href="#contact" class="nav-link" data-target="contact">Contact</a>
    </nav>

    <div class="pixel-divider"></div>

    <main>
      <!-- HOME -->
      <section id="home" class="page active" aria-label="Home page">
        <h2>Latest Entry</h2>
        <div id="latest-post" class="post">
          <h3 id="latest-title">[Your first post goes here — tell me the content and I'll populate it]</h3>
          <div class="meta" id="latest-date">September 12, 2025</div>
          <p id="latest-body">Welcome to Miserere Nobis. This is a placeholder post. When you're ready, paste the text of your first entry and I'll add it here (or you can edit the HTML directly).</p>
        </div>

        <aside class="sidebar">
          <strong>About this blog</strong>
          <p>Personal journals • Book reviews • Things I like • Architecture reflections with Catholic motifs</p>
          <p style="font-size:12px">Pro tip: Use the <em>History</em> page to browse older posts by date.</p>
        </aside>
      </section>

      <!-- LINKS -->
      <section id="links" class="page" aria-label="Links page">
        <h2>Links</h2>
        <div class="links-list">
          <a href="https://example.com" target="_blank">Favorite architecture resources</a>
          <a href="https://example.com" target="_blank">Books I'm reading</a>
          <a href="https://example.com" target="_blank">Catholic reflections & resources</a>
          <a href="https://example.com" target="_blank">My portfolio (coming soon)</a>
        </div>
        <p style="margin-top:12px">Want to add your own links? Use the editor or tell me what to add and I'll update this for you.</p>
      </section>

      <!-- HISTORY -->
      <section id="history" class="page" aria-label="History of posts">
        <h2>History — posts by date</h2>
        <div id="history-list">
          <!-- JS populates this list -->
        </div>

        <div style="margin-top:12px; border-top:1px dashed #777; padding-top:12px;">
          <strong>Add a new post</strong>
          <form id="post-form">
            <div><input id="post-title" placeholder="Post title" style="width:100%;padding:6px;margin-top:6px"></div>
            <div><textarea id="post-body" placeholder="Post content" style="width:100%;height:120px;padding:6px;margin-top:6px"></textarea></div>
            <div style="margin-top:6px"><button type="submit">Add post</button> <button type="button" id="clear-storage">Reset demo posts</button></div>
          </form>
          <p style="font-size:12px;margin-top:6px">Note: This demo stores posts in your browser (localStorage). If you want a server-backed blog, I can convert this into a simple static site + instructions for Netlify / GitHub Pages.</p>
        </div>
      </section>

      <!-- CONTACT (simple) -->
      <section id="contact" class="page" aria-label="Contact">
        <h2>Contact</h2>
        <p>Want to reach out? Email: <strong>you@example.com</strong> (edit in the HTML). Or tell me to add a contact form.</p>
        <p>Liturgical motif: a small image/icon could go here — if you'd like I can provide a tasteful pixel-art cross or stained-glass snippet for the header.</p>
      </section>

    </main>

    <footer>
      <div>© <span id="year"></span> Miserere Nobis — Built with GeoCities nostalgia.</div>
      <div style="font-size:11px;margin-top:6px">Design: semi-professional 90s-style — you can customize fonts, colors, and background tiles.</div>
    </footer>
  </div>

  <script>
    // Simple SPA navigation (show/hide sections)
    const links = document.querySelectorAll('.nav-link');
    const pages = document.querySelectorAll('.page');
    links.forEach(a => a.addEventListener('click', e => {
      e.preventDefault();
      const t = a.getAttribute('data-target');
      pages.forEach(p => p.classList.remove('active'));
      document.getElementById(t).classList.add('active');
      window.scrollTo(0,0);
    }));

    // Demo posts (sample data). Replace or add via the form.
    const demoPosts = [
      {title: 'Welcome & First Thoughts', date: '2025-09-01', body: 'This is a short intro where I talk about why I write: architecture, books, and faith.'},
      {title: 'Book review: The Poetics of Space', date: '2025-08-20', body: 'A reflection on how interiors shape memory and prayerful moments.'},
      {title: 'Sketches from the park', date: '2025-07-15', body: 'Notes on an L-shaped library project and precedent studies.'}
    ];

    // Save/retrieve posts from localStorage to simulate persistence
    function getPosts(){
      const raw = localStorage.getItem('mn_posts');
      if(!raw) return demoPosts.slice();
      try{ return JSON.parse(raw); }catch(e){ return demoPosts.slice(); }
    }

    function savePosts(arr){ localStorage.setItem('mn_posts', JSON.stringify(arr)); }

    function renderHistory(){
      const list = document.getElementById('history-list');
      const posts = getPosts();
      // sort by date descending
      posts.sort((a,b)=> new Date(b.date) - new Date(a.date));
      list.innerHTML = '';
      posts.forEach(p=>{
        const div = document.createElement('div');
        div.className = 'post';
        div.innerHTML = `<h3>${escapeHtml(p.title)}</h3><div class="meta">${escapeHtml(p.date)}</div><p>${escapeHtml(p.body)}</p>`;
        list.appendChild(div);
      })
    }

    function escapeHtml(str){
      if(!str) return '';
      return str.replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('\n','<br>');
    }

    document.getElementById('post-form').addEventListener('submit', e=>{
      e.preventDefault();
      const title = document.getElementById('post-title').value.trim() || 'Untitled';
      const body = document.getElementById('post-body').value.trim() || '';
      const date = new Date().toISOString().slice(0,10);
      const posts = getPosts();
      posts.push({title, date, body});
      savePosts(posts);
      renderHistory();
      document.getElementById('post-title').value = '';
      document.getElementById('post-body').value = '';
      alert('Post added (saved in your browser).');
    });

    document.getElementById('clear-storage').addEventListener('click', ()=>{
      if(confirm('Reset demo posts? This will clear any posts you added locally.')){
        localStorage.removeItem('mn_posts');
        renderHistory();
      }
    });

    // set footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Populate latest post area with newest from posts
    function updateLatest(){
      const posts = getPosts();
      posts.sort((a,b)=> new Date(b.date) - new Date(a.date));
      const top = posts[0];
      if(top){
        document.getElementById('latest-title').textContent = top.title;
        document.getElementById('latest-date').textContent = top.date;
        document.getElementById('latest-body').innerHTML = escapeHtml(top.body);
      }
    }

    // initial render
    renderHistory();
    updateLatest();

    // update latest when returning to home (simple observer on history changes)
    window.addEventListener('storage', ()=>{ renderHistory(); updateLatest(); });

  </script>
</body>
</html>
